<html>
  <head>
    <meta charset="utf-8" />
    <meta
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
      name="viewport"
    />
    <title>WebTileLayer | ArcGIS API for JavaScript 4.23</title>

    <link
      href="https://js.arcgis.com/4.23/esri/themes/light/main.css"
      rel="stylesheet"
    />
    <script src="https://js.arcgis.com/4.23/"></script>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>

    <script>
      require(["esri/Map", "esri/views/MapView", "esri/layers/WebTileLayer"], (
        Map,
        MapView,
        WebTileLayer
      ) => {
        window.map = new Map({
          // basemap: "satellite",
        });
        window.view = new MapView({
          center: [-111.3, 52.68],
          // center: [104.00010223392403, 40.646621337242046],
          container: "viewDiv",
          map: map,
          zoom: 4,
          // scale: 50000000,
        });

        // arcgis 卫星影像
        // let satelliteLayer = new WebTileLayer({
        //   id: "satelliteLayer",
        //   title: "satelliteLayer",
        //   // 区域
        //   subDomains: [],
        //   // 域名模板
        //   urlTemplate:
        //     // "http://{subDomain}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk=xxxxx",
        //     "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{level}/{row}/{col}",
        // });
        // map.add(satelliteLayer)

        // 本地 卫星影像
        // let localLayer = new WebTileLayer({
        //   id: "localLayer",
        //   title: "localLayer",
        //   // 区域
        //   subDomains: [],
        //   // 域名模板
        //   urlTemplate:
        //     // "http://{subDomain}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}&tk=xxxxx",
        //     "http://localhost:8080/tiled/?z={level}&x={col}&y={row}&mapType=image",
        // });
        // map.add(localLayer);

        // 谷歌 卫星影像
        let googleSatelliteLayer = new WebTileLayer({
          id: "googleSatelliteLayer",
          title: "googleSatelliteLayer",
          // 区域
          subDomains: ["mt1", "mt2", "mt3"],
          // 域名模板
          urlTemplate: "http://{subDomain}.google.cn/vt?lyrs=s@189&gl=cn&x={col}&y={row}&z={level}&s=Gali",
        });
        map.add(googleSatelliteLayer);

        // 道路标记
        let routeLayer = new WebTileLayer({
          id: "routeLayer",
          title: "routeLayer",
          // 区域
          subDomains: ["mt1", "mt2", "mt3"],
          // 域名模板
          urlTemplate:
            "http://{subDomain}.google.cn/vt/lyrs=h&hl=zh-CN&gl=cn&x={col}&y={row}&z={level}&s=Gali",
        });
        map.add(routeLayer);
      });
    </script>
  </head>

  <body>
    <div id="viewDiv" style="height: calc(100vh - 100px)"></div>
    <button onClick="change()">change first polyline</button>
  </body>
</html>
